\doxysection{minishell.\+h}
\hypertarget{minishell_8h_source}{}\label{minishell_8h_source}\index{includes/minishell.h@{includes/minishell.h}}
\mbox{\hyperlink{minishell_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ MINISHELL\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#\ define\ MINISHELL\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#\ include\ <unistd.h>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#\ include\ <stdio.h>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#\ include\ <stdlib.h>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#\ include\ <errno.h>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#\ include\ <sys/stat.h>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#\ include\ <linux/limits.h>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#\ include\ <fcntl.h>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#\ include\ <sys/wait.h>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#\ include\ <string.h>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#\ include\ <ctype.h>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#\ include\ <stdbool.h>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#\ include\ <signal.h>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#\ include\ <readline/readline.h>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#\ include\ <readline/history.h>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#\ include\ "{}../libft/libft.h"{}}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structs__command}{s\_command}}}
\DoxyCodeLine{00021\ \{}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{char}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ **\mbox{\hyperlink{structs__command_ab71d3325f497817c691ace8e476427cc}{args}};}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordtype}{char}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{structs__command_a364cf81494de07f3285fdf483413a96f}{input}};}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordtype}{char}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{structs__command_ad1ba0f6f59f082e7ff33b6c10e515e30}{output}};}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structs__command_ad16d818f2fe54aeb2e52e957d0cddce6}{append\_output}};}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structs__command_a22a7c1179bc51cd2489e85be2661afa1}{exit\_status}};}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structs__command}{s\_command}}\ \ \ *\mbox{\hyperlink{structs__command_afbfe160941a93422267c88c93dec755a}{next}};}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordtype}{char}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{structs__command_acb6f1064205dedb0d441733f3052b50c}{heredoc\_delim}};}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structs__command_ae085d1548d76b6a97dfbb0fb2611f970}{is\_heredoc}};}
\DoxyCodeLine{00030\ \}\ \ \ \mbox{\hyperlink{minishell_8h_a343be1e180affa75a4a3b4bb5b2225e3}{t\_command}};}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{minishell_8h_a76a354e93d720f05344590ec8aa222de}{e\_token\_type}}}
\DoxyCodeLine{00033\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a76a354e93d720f05344590ec8aa222dea28b529bc6cf86659d134593d58a27be5}{TOKEN\_WORD}},}
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a76a354e93d720f05344590ec8aa222dead61fd32884b0d8d9e8dc15fb0d1d954e}{TOKEN\_OPERATOR}},}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a76a354e93d720f05344590ec8aa222dea9a9bc6f4d4351c059bbdc52541d3aaa2}{TOKEN\_ENV\_VAR}},}
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a76a354e93d720f05344590ec8aa222deab565ebfaaa53dcee6ddda201e270733e}{TOKEN\_DOT}},}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a76a354e93d720f05344590ec8aa222deafe0f79003a508c29b6f1312a28102a4c}{TOKEN\_DOTDOT}},}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a76a354e93d720f05344590ec8aa222dea2dee186c009d8a91a8ebd2caa81ceef3}{TOKEN\_UNKNOWN}},}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a76a354e93d720f05344590ec8aa222deadf0956fb77ec0b61a7fb35113fe5d805}{TOKEN\_END}}}
\DoxyCodeLine{00041\ \}\ \ \ \mbox{\hyperlink{minishell_8h_aaa12264c004e358b28290c09bb20969a}{t\_token\_type}};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structs__token}{s\_token}}}
\DoxyCodeLine{00044\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{minishell_8h_aaa12264c004e358b28290c09bb20969a}{t\_token\_type}}\ \ \ \ \mbox{\hyperlink{structs__token_a350680c70abb7e7173240477e92dc0a3}{type}};}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{char}\ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{structs__token_a21b454c179e1e31383371d09385b9c59}{value}};}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structs__token_aeb2b90dee398e7b55e8e673ca04aaf3d}{word}};}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structs__token}{s\_token}}\ \ \ *\mbox{\hyperlink{structs__token_a5dae434205818bfc83a61809d4a34a29}{next}};}
\DoxyCodeLine{00049\ \}\ \ \ \mbox{\hyperlink{minishell_8h_aead06bc7a81ebdd60cbdcf6b3b8e51d4}{t\_token}};}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structs__data}{s\_data}}}
\DoxyCodeLine{00052\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \mbox{\hyperlink{structs__data_a0b34a6803987d66d8377ca3aa009e083}{exit\_flag}};}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structs__data_ad88040eadab7f9001a0bfc8b45006664}{last\_exit\_status}};}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structs__data_ae08dbf41dd339c5d5de63fb06d364f4f}{token\_count}};}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{char}\ \ \ \ \ \ \ \ **\mbox{\hyperlink{structs__data_a820585d54804e5f6fbbb70d8d5e0763e}{env\_vars}};}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{structs__token}{t\_token}}\ \ \ \ \ \ *\mbox{\hyperlink{structs__data_a5635cfb630bac410f81c69a59e569f28}{tokens}};}
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{structs__command}{t\_command}}\ \ *\mbox{\hyperlink{structs__data_a479ba01bd8a5c6f3fb07e28c136536f8}{cmd\_list}};}
\DoxyCodeLine{00059\ \}\ \ \ \mbox{\hyperlink{minishell_8h_a24e28e95867f9681b9d87781b1caa65b}{t\_data}};}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \textcolor{comment}{/*\ functions\ pertaining\ to\ lexer.c\ */}}
\DoxyCodeLine{00062\ \textcolor{keywordtype}{int}\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a42a0f9e915117bf1220e2b9e8822a44a}{lexer}}(\textcolor{keywordtype}{char}\ *input,\ \mbox{\hyperlink{structs__data}{t\_data}}\ *data,\ \textcolor{keywordtype}{int}\ last\_exit\_status);}
\DoxyCodeLine{00063\ \textcolor{keywordtype}{void}\ \ \ \ \mbox{\hyperlink{minishell_8h_a6d29f1d9465b511398af6585a5007546}{free\_tokens}}(\mbox{\hyperlink{structs__data}{t\_data}}\ *data);}
\DoxyCodeLine{00064\ \mbox{\hyperlink{structs__command}{t\_command}}\ *\mbox{\hyperlink{minishell_8h_a782b929c82bae1bd0ac94cf76aa118ba}{parse\_tokens}}(\mbox{\hyperlink{structs__data}{t\_data}}\ *data);}
\DoxyCodeLine{00065\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{minishell_8h_a4f4b50c68a3ad0e2365ea1f20626a2b4}{count\_tokens}}(\mbox{\hyperlink{structs__token}{t\_token}}\ *tokens);}
\DoxyCodeLine{00066\ \textcolor{comment}{//char\ \ *expand\_env\_var(char\ *cursor,\ int\ last\_exit\_status);}}
\DoxyCodeLine{00067\ \textcolor{comment}{//char\ \ *expand\_env\_var\_in\_str(char\ **ptr\_to\_cursor,\ int\ last\_exit\_status);}}
\DoxyCodeLine{00068\ \textcolor{keywordtype}{char}\ \ \ \ *\mbox{\hyperlink{minishell_8h_abdae338e31fdbdb0de60d60acdde2dd8}{expand\_env\_var}}(\textcolor{keywordtype}{char}\ *cursor,\ \textcolor{keywordtype}{int}\ last\_exit\_status,\ \mbox{\hyperlink{structs__data}{t\_data}}\ *data);}
\DoxyCodeLine{00069\ \textcolor{keywordtype}{char}\ \ \ \ *\mbox{\hyperlink{minishell_8h_acbbf4b8066d0c02fd0e7193925eb3122}{expand\_env\_var\_in\_str}}(\textcolor{keywordtype}{char}\ **ptr\_to\_cursor,\ \textcolor{keywordtype}{int}\ last\_exit\_status,\ \mbox{\hyperlink{structs__data}{t\_data}}\ *data);}
\DoxyCodeLine{00070\ \textcolor{comment}{/*\ functions\ pertaining\ to\ lexer.c\ */}}
\DoxyCodeLine{00071\ \textcolor{comment}{/*\ implementing\ the\ builtin\ functions\ */}}
\DoxyCodeLine{00072\ \textcolor{keywordtype}{int}\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a08bbe50ae7201f9d8cd6191a6315eff2}{builtin\_echo}}(\mbox{\hyperlink{structs__command}{t\_command}}\ *cmd);}
\DoxyCodeLine{00073\ \textcolor{keywordtype}{int}\ \ \ \ \ \mbox{\hyperlink{minishell_8h_aa70cbe55dcaedfbc1984faa41966ccb1}{builtin\_cd}}(\mbox{\hyperlink{structs__command}{t\_command}}\ *cmd,\ \mbox{\hyperlink{structs__data}{t\_data}}\ *data);}
\DoxyCodeLine{00074\ \textcolor{keywordtype}{int}\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a80bdc55685c98be70a879012570330f9}{builtin\_pwd}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00075\ \textcolor{keywordtype}{int}\ \ \ \ \ \mbox{\hyperlink{minishell_8h_ac372c3f0fe95e61886f5322d6629d6f3}{builtin\_export}}(\mbox{\hyperlink{structs__command}{t\_command}}\ *cmd,\ \mbox{\hyperlink{structs__data}{t\_data}}\ *data);}
\DoxyCodeLine{00076\ \textcolor{keywordtype}{int}\ \ \ \ \ \mbox{\hyperlink{minishell_8h_ac9abed9f13601fc9bcb5dfda9d943180}{builtin\_unset}}(\mbox{\hyperlink{structs__command}{t\_command}}\ *cmd,\ \mbox{\hyperlink{structs__data}{t\_data}}\ *data);}
\DoxyCodeLine{00077\ \textcolor{keywordtype}{int}\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a0b345c5f6b2a9d5fa6c94c7e75d522b3}{builtin\_env}}(\mbox{\hyperlink{structs__data}{t\_data}}\ *data);}
\DoxyCodeLine{00078\ \textcolor{keywordtype}{int}\ \ \ \ \ \mbox{\hyperlink{minishell_8h_a450f4befe99efd8d58693101b396e2ef}{builtin\_exit}}(\mbox{\hyperlink{structs__command}{t\_command}}\ *cmd,\ \mbox{\hyperlink{structs__data}{t\_data}}\ *data,\ \textcolor{keywordtype}{bool}\ print\_exit);}
\DoxyCodeLine{00079\ \textcolor{keywordtype}{char}\ \ \ \ *\mbox{\hyperlink{minishell_8h_a7e09b28621765a51ca74a8017b13a146}{resolve\_cdpath\_if\_needed}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *path,\ \mbox{\hyperlink{structs__data}{t\_data}}\ *data);}
\DoxyCodeLine{00080\ \textcolor{keywordtype}{int}\ \ \ \ \ \mbox{\hyperlink{minishell_8h_ad9668c33b7af5acb61cf24f2bbfe1b37}{update\_directory\_env}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *cwd,\ \mbox{\hyperlink{structs__data}{t\_data}}\ *data);}
\DoxyCodeLine{00081\ \textcolor{keywordtype}{char}\ \ \ \ *\mbox{\hyperlink{minishell_8h_a94607008b7a336b74a35ba26e0f058c1}{normalize\_path}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *path);}
\DoxyCodeLine{00082\ \textcolor{comment}{/*\ pure\ utilities/\ helper\ functions\ */}}
\DoxyCodeLine{00083\ \textcolor{keywordtype}{char}\ \ \ \ *\mbox{\hyperlink{minishell_8h_a80485099dcca81832195841e7948a0c6}{ft\_strjoin\_pipex}}(\textcolor{keywordtype}{char}\ *s1,\ \textcolor{keywordtype}{char}\ *s2);}
\DoxyCodeLine{00084\ \textcolor{keywordtype}{void}\ \ \ \ \mbox{\hyperlink{minishell_8h_a7d8c676bf4c73f17af14803131d97e30}{free\_array\_of\_strs}}(\textcolor{keywordtype}{char}\ **tab);}
\DoxyCodeLine{00085\ \textcolor{keywordtype}{char}\ \ \ \ *\mbox{\hyperlink{minishell_8h_a122245403dd6e2313144780839946659}{free\_null}}(\textcolor{keywordtype}{char}\ *str);}
\DoxyCodeLine{00086\ \textcolor{keywordtype}{int}\ \ \ \ \ \mbox{\hyperlink{minishell_8h_ac782f8810e92f00157974fb78d73df40}{check\_commands\_in\_tokens}}(\mbox{\hyperlink{structs__token}{t\_token}}\ *tokens);}
\DoxyCodeLine{00087\ \textcolor{keywordtype}{char}\ \ \ \ *\mbox{\hyperlink{minishell_8h_a9d159a845073a413ce9358f6111dd0b2}{ft\_getenv}}(\textcolor{keywordtype}{char}\ *look\_for\_match,\ \textcolor{keywordtype}{char}\ **envp);}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
